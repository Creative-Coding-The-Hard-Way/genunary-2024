{"mappings":"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","sources":["<anon>","src/sketches/prompts/01-02-2024/index.ts"],"sourcesContent":["\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire2d73\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire2d73\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n\nvar $7vzAp = parcelRequire(\"7vzAp\");\n/**\n * Convert polar Oklch to non-polar Oklab colors.\n */ function $b4c0374a80f7e130$var$oklch_to_oklab(lch) {\n    const { L: L, C: C, h: h } = lch;\n    const h_rad = h * Math.PI / 180.0;\n    return {\n        L: L,\n        a: C * Math.cos(h_rad),\n        b: C * Math.sin(h_rad)\n    };\n}\n/**\n * Convert Oklab colors to rgb.\n */ function $b4c0374a80f7e130$var$oklab_to_rgb(lab) {\n    const l_ = lab.L + 0.3963377774 * lab.a + 0.2158037573 * lab.b;\n    const m_ = lab.L - 0.1055613458 * lab.a - 0.0638541728 * lab.b;\n    const s_ = lab.L - 0.0894841775 * lab.a - 1.291485548 * lab.b;\n    const l = l_ * l_ * l_;\n    const m = m_ * m_ * m_;\n    const s = s_ * s_ * s_;\n    return {\n        r: 4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s,\n        g: -1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s,\n        b: -0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s\n    };\n}\nfunction $b4c0374a80f7e130$var$sketch(p5) {\n    const em = Math.min(50, Math.round(window.innerWidth / 25));\n    const w = 12 * em;\n    const h = 10 * em;\n    let hue_bar = {\n        top: em,\n        bottom: h - em,\n        left: w - 2 * em,\n        right: w - em,\n        hue: 240\n    };\n    p5.mouseClicked = ()=>{\n        if (p5.mouseX < hue_bar.left || p5.mouseX > hue_bar.right) return;\n        if (p5.mouseY < hue_bar.top || p5.mouseY > hue_bar.bottom) return;\n        hue_bar.hue = p5.map(p5.mouseY, hue_bar.top, hue_bar.bottom, 0, 360);\n        p5.redraw();\n    };\n    p5.setup = ()=>{\n        p5.createCanvas(w, h);\n        p5.colorMode(p5.RGB, 1.0);\n        p5.noStroke();\n    };\n    p5.draw = ()=>{\n        p5.background(0);\n        // Draw the rectangle\n        {\n            p5.push();\n            p5.noStroke();\n            const top = em;\n            const bottom = h - em;\n            const left = em;\n            const right = bottom;\n            p5.fill(0.25);\n            p5.rect(left, top, right - left, bottom - top);\n            const outside_range = (n)=>{\n                return n < 0 || n > 1;\n            };\n            for(let y = top; y <= bottom; y++){\n                const L = p5.map(y, top, bottom, 1, 0);\n                for(let x = left; x <= right; x++){\n                    const C = p5.map(x, left, right, 0, 0.38);\n                    const { r: r, g: g, b: b } = $b4c0374a80f7e130$var$oklab_to_rgb($b4c0374a80f7e130$var$oklch_to_oklab({\n                        L: L,\n                        C: C,\n                        h: hue_bar.hue\n                    }));\n                    if (outside_range(r) || outside_range(g) || outside_range(b)) break;\n                    p5.stroke(r, g, b);\n                    p5.point(x, y);\n                }\n            }\n            //p5.rect(left, top, right - left, bottom - top);\n            p5.pop();\n        }\n        // Draw the picker bar\n        {\n            p5.push();\n            // draw the bar\n            const L = 0.8;\n            const C = 0.38;\n            for(let i = hue_bar.top; i < hue_bar.bottom; i++){\n                const h = p5.map(i, hue_bar.top, hue_bar.bottom, 0, 360);\n                const c = $b4c0374a80f7e130$var$oklab_to_rgb($b4c0374a80f7e130$var$oklch_to_oklab({\n                    L: L,\n                    C: C,\n                    h: h\n                }));\n                p5.stroke(c.r, c.g, c.b);\n                p5.line(hue_bar.left, i, hue_bar.right, i);\n            }\n            // draw the bar's 'chosen hue'\n            const h = p5.map(hue_bar.hue, 0, 360, hue_bar.top, hue_bar.bottom);\n            p5.stroke(\"white\");\n            p5.line(hue_bar.left, h, hue_bar.right, h);\n            p5.pop();\n        }\n        p5.noLoop();\n    };\n}\nnew (0, $7vzAp.Page)(\"No Palettes\", $b4c0374a80f7e130$var$sketch);\n\n\n//# sourceMappingURL=index.5c68e9ac.js.map\n","import { Page } from \"~/src/lib/page\";\nimport P5 from \"p5\";\n\ninterface Lch {\n  /**\n   * Lightness [0-1].\n   */\n  L: number;\n\n  /**\n   * Chroma [0-1].\n   */\n  C: number;\n\n  /**\n   * Hue [0-360].\n   */\n  h: number;\n}\n\n/**\n * Represents an Oklab color.\n * https://bottosson.github.io/posts/oklab/\n */\ninterface Lab {\n  /**\n   * Lightness [0-1];\n   */\n  L: number;\n\n  /**\n   * How green/red the color is [0-1].\n   */\n  a: number;\n\n  /**\n   * How blue/yellow the color is [0-1].\n   */\n  b: number;\n}\n\ninterface Rgb {\n  r: number;\n  g: number;\n  b: number;\n}\n\n/**\n * Convert polar Oklch to non-polar Oklab colors.\n */\nfunction oklch_to_oklab(lch: Lch): Lab {\n  const { L, C, h } = lch;\n  const h_rad = (h * Math.PI) / 180.0;\n  return {\n    L,\n    a: C * Math.cos(h_rad),\n    b: C * Math.sin(h_rad),\n  };\n}\n\n/**\n * Convert Oklab colors to rgb.\n */\nfunction oklab_to_rgb(lab: Lab): Rgb {\n  const l_ = lab.L + 0.3963377774 * lab.a + 0.2158037573 * lab.b;\n  const m_ = lab.L - 0.1055613458 * lab.a - 0.0638541728 * lab.b;\n  const s_ = lab.L - 0.0894841775 * lab.a - 1.291485548 * lab.b;\n\n  const l = l_ * l_ * l_;\n  const m = m_ * m_ * m_;\n  const s = s_ * s_ * s_;\n\n  return {\n    r: +4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s,\n    g: -1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s,\n    b: -0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s,\n  };\n}\n\nfunction sketch(p5: P5) {\n  const em = Math.min(50, Math.round(window.innerWidth / 25));\n  const w = 12 * em;\n  const h = 10 * em;\n\n  let hue_bar = {\n    top: em,\n    bottom: h - em,\n    left: w - 2 * em,\n    right: w - em,\n    hue: 240,\n  };\n\n  p5.mouseClicked = () => {\n    if (p5.mouseX < hue_bar.left || p5.mouseX > hue_bar.right) {\n      return;\n    }\n    if (p5.mouseY < hue_bar.top || p5.mouseY > hue_bar.bottom) {\n      return;\n    }\n    hue_bar.hue = p5.map(p5.mouseY, hue_bar.top, hue_bar.bottom, 0, 360);\n    p5.redraw();\n  };\n\n  p5.setup = () => {\n    p5.createCanvas(w, h);\n    p5.colorMode(p5.RGB, 1.0);\n    p5.noStroke();\n  };\n\n  p5.draw = () => {\n    p5.background(0);\n\n    // Draw the rectangle\n    {\n      p5.push();\n\n      p5.noStroke();\n      const top = em;\n      const bottom = h - em;\n      const left = em;\n      const right = bottom;\n\n      p5.fill(0.25);\n      p5.rect(left, top, right - left, bottom - top);\n\n      const outside_range = (n: number): boolean => {\n        return n < 0 || n > 1;\n      };\n\n      for (let y = top; y <= bottom; y++) {\n        const L = p5.map(y, top, bottom, 1, 0);\n        for (let x = left; x <= right; x++) {\n          const C = p5.map(x, left, right, 0, 0.38);\n          const { r, g, b } = oklab_to_rgb(\n            oklch_to_oklab({ L, C, h: hue_bar.hue })\n          );\n          if (outside_range(r) || outside_range(g) || outside_range(b)) {\n            break;\n          }\n          p5.stroke(r, g, b);\n          p5.point(x, y);\n        }\n      }\n\n      //p5.rect(left, top, right - left, bottom - top);\n\n      p5.pop();\n    }\n\n    // Draw the picker bar\n    {\n      p5.push();\n      // draw the bar\n      const L = 0.8;\n      const C = 0.38;\n      for (let i = hue_bar.top; i < hue_bar.bottom; i++) {\n        const h = p5.map(i, hue_bar.top, hue_bar.bottom, 0, 360);\n        const c = oklab_to_rgb(oklch_to_oklab({ L, C, h }));\n        p5.stroke(c.r, c.g, c.b);\n        p5.line(hue_bar.left, i, hue_bar.right, i);\n      }\n\n      // draw the bar's 'chosen hue'\n      const h = p5.map(hue_bar.hue, 0, 360, hue_bar.top, hue_bar.bottom);\n      p5.stroke(\"white\");\n      p5.line(hue_bar.left, h, hue_bar.right, h);\n      p5.pop();\n    }\n\n    p5.noLoop();\n  };\n}\nnew Page(\"No Palettes\", sketch);\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","$b4c0374a80f7e130$var$oklch_to_oklab","lch","L","C","h","h_rad","Math","PI","a","cos","b","sin","$b4c0374a80f7e130$var$oklab_to_rgb","lab","l_","m_","s_","l","m","s","r","g","id","exports","init","module","call","err","Error","code","register","$7vzAp","Page","p5","em","min","round","window","innerWidth","w","hue_bar","top","bottom","left","right","hue","mouseClicked","mouseX","mouseY","map","redraw","setup","createCanvas","colorMode","RGB","noStroke","draw","background","push","fill","rect","outside_range","n","y","x","stroke","point","pop","i","c","line","noLoop"],"version":3,"file":"index.5c68e9ac.js.map"}